import{V as s,r as n,o as r,c as a,b as i}from"./entry.eW3Hl86w.js";import{b as c}from"./api.xjxtr2Ie.js";const d={class:"min-h-screen p-4"},f={__name:"[id]",setup(m){const o=s().params.id,t=n(null);return r(async()=>{try{sessionStorage.getItem("idnt_code")&&sessionStorage.removeItem("idnt_code");const e=await c("member.php",{mode:"studentInfo",idnt_code:o});e.result==="SUCCESS"&&e.data?(t.value=e.data,sessionStorage.setItem("idnt_code",o),sessionStorage.setItem("student",JSON.stringify(t.value)),window.location.href="/"):(alert("학생정보가 없습니다."),console.error(e.message||"학생 정보 없음"),sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),window.location.href="/login")}catch(e){console.error("에러:",e),alert("에러가 발생했습니다."),sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),window.location.href="/login"}}),(e,u)=>(i(),a("main",d))}};export{f as default};
