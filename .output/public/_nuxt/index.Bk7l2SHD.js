import{_ as B}from"./Button.BD11BhXD.js";import{u as E}from"./index.DPtuejCi.js";import{a as M,b as y}from"./api.xjxtr2Ie.js";import{r as a,o as V,G as z,c as o,b as n,g as t,t as m,E as d,z as w,f as u,e as p,w as S,F,D as A,j as D}from"./entry.DzORWLaw.js";import"./Icon.BGvYw2Fv.js";const I={1:"난류 (계란 등)",2:"우유",3:"메밀",4:"땅콩",5:"대두 (콩)",6:"밀",7:"고등어",8:"게",9:"새우",10:"돼지고기",11:"복숭아",12:"토마토",13:"아황산류",14:"호두",15:"닭고기",16:"쇠고기",17:"오징어",18:"조개류 (굴, 전복, 홍합 등)"},J={class:"space-y-4"},L={class:"flex justify-between items-center"},P={class:"text-lg font-semibold text-gray-700"},U={class:"col-span-2 rounded-2xl shadow-md p-4 bg-gradient-to-r from-green-400 to-blue-500 text-white flex justify-between items-center"},H={class:"flex flex-col justify-center"},O={class:"text-2xl font-bold"},G={class:"grid grid-cols-2 gap-4"},R={class:"mt-8 rounded-2xl shadow-md p-4 bg-white border"},T={class:"list-disc list-inside text-gray-700 space-y-1"},q={key:0,class:"text-xs text-gray-500 ml-4 mt-1"},K={__name:"Intro",setup(k){const g=()=>{sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),sessionStorage.removeItem("t_idnt_code"),sessionStorage.removeItem("teacher"),window.location.href="/login"},i=a({}),f=a(0),C=a([]),_=a(null),N=async()=>{const s=await y("store.php",{mode:"storeList",teacher:_});s.result==="SUCCESS"&&(C.value=s.data)};V(async()=>{var s;sessionStorage.getItem("student")&&(i.value=JSON.parse(sessionStorage.getItem("student"))),f.value=await M(),_.value=(s=JSON.parse(sessionStorage.getItem("student")))==null?void 0:s.teacher,N(),await $()}),E({title:"Fayaz Ahmed",description:"I'm Fayaz, your friendly neighborhood software, product engineer and designer from Bengaluru, India. I specialize in building web applications and sites using Javascript, React, Vue & Node."});const c=a(!1),x=a([]),$=async()=>{var e;const s=await y("meal.php",{idx:(e=i.value)==null?void 0:e.teacher});(s.result==="SUCCESS"||s.result==="CACHED")&&(x.value=s.data)},b=s=>{const e=s.match(/\(([\d.,\s]+)\)/);return e?e[1].split(/[.,\s]+/).map(Number).filter(l=>I[l]).map(l=>I[l]):[]};return(s,e)=>{var v;const l=B,h=z("router-link");return n(),o("div",null,[t("div",J,[t("div",L,[t("p",P,m((v=d(i))==null?void 0:v.student_name)+"친구, 환영합니다 👋",1),t("button",{class:"flex items-center gap-2 bg-white text-red-500 border border-red-300 px-3 py-1 rounded-full shadow-sm hover:bg-red-50 transition",onClick:g},e[3]||(e[3]=[t("span",{class:"i-heroicons-arrow-right-on-rectangle w-4 h-4"},null,-1),w(" 로그아웃 ")]))]),t("div",U,[t("div",H,[e[5]||(e[5]=t("p",{class:"text-sm opacity-80"},"내 잔액",-1)),t("p",O,[d(c)?(n(),o("span",{key:0,onClick:e[0]||(e[0]=r=>c.value=!1)},[w(" 💰 "+m(Number(d(f)||0).toLocaleString())+" ",1),e[4]||(e[4]=t("span",{class:"text-sm font-normal align-middle"},"돌멩이",-1))])):p("",!0),d(c)?p("",!0):(n(),o("span",{key:1,onClick:e[1]||(e[1]=r=>c.value=!0)}," 나의 잔액 확인하기 "))])]),u(l,{label:"이체하기",color:"white",class:"text-blue-800 bg-white bg-opacity-90 hover:bg-opacity-100",onClick:e[2]||(e[2]=r=>s.$router.push("/transfer"))})]),t("div",G,[u(h,{to:"/income"},{default:S(()=>e[6]||(e[6]=[t("div",{class:"rounded-2xl shadow-md p-4 bg-gradient-to-r from-pink-400 to-red-400 text-white text-center text-lg font-bold cursor-pointer"}," 💰 입금 ",-1)])),_:1,__:[6]}),u(h,{to:"/expense"},{default:S(()=>e[7]||(e[7]=[t("div",{class:"rounded-2xl shadow-md p-4 bg-gradient-to-r from-yellow-300 to-orange-400 text-white text-center text-lg font-bold cursor-pointer"}," 💸 출금 ",-1)])),_:1,__:[7]})])]),t("div",R,[e[8]||(e[8]=t("p",{class:"text-base font-semibold text-gray-800 mb-2"},"🍱 오늘의 급식",-1)),t("ul",T,[(n(!0),o(F,null,A(d(x),(r,j)=>(n(),o("li",{key:j},[t("span",null,m(r),1),b(r).length?(n(),o("div",q," ⚠️ 알레르기 유발 식품: "+m(b(r).join(", ")),1)):p("",!0)]))),128))])])])}}},Q={},W={class:"min-h-screen"},X={class:"space-y-24"};function Y(k,g){const i=K;return n(),o("main",W,[t("div",X,[u(i)])])}const ne=D(Q,[["render",Y]]);export{ne as default};
