{"version":3,"file":"api-D3jlul4Q.js","sources":["../../../../common/api.js"],"sourcesContent":["// /common/api.js\nimport axios from 'axios'\n\nconst api = axios.create({\n    baseURL: 'https://api.school-os.net/jelly/',\n    // baseURL: 'http://localhost:3095/jelly/',\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    timeout: 10000,\n})\n\n// 요청 인터셉터\napi.interceptors.request.use(\n    config => {\n        // 예: 인증 토큰 추가\n        const token = sessionStorage.getItem('auth_token')\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`\n        }\n        return config\n    },\n    error => Promise.reject(error)\n)\n\n// 응답 인터셉터\napi.interceptors.response.use(\n    response => response.data,\n    error => {\n        console.error('API 통신 오류:', error.response || error.message)\n        return Promise.reject(error)\n    }\n)\n\n// POST 요청 함수\nexport const apiPost = (endpoint, data) => {\n    return api.post(endpoint, data)\n}\n\n// GET 요청 함수\nexport const apiGet = (endpoint, params) => {\n    return api.get(endpoint, { params })\n}\n\nexport const apiPoint = async () => {\n    const res = await apiPost('bank.php', {\n        mode: 'getPoint',\n        idnt_code: sessionStorage.getItem('idnt_code')\n    })\n\n    return Number(res.data?.mb_point) || 0\n}\n\nexport default api"],"names":[],"mappings":";AAGA,MAAM,MAAM,MAAM,OAAO;AAAA,EACrB,SAAS;AAAA;AAAA,EAET,SAAS;AAAA,IACL,gBAAgB;AAAA,EACnB;AAAA,EACD,SAAS;AACb,CAAC;AAGD,IAAI,aAAa,QAAQ;AAAA,EACrB,YAAU;AAEN,UAAM,QAAQ,eAAe,QAAQ,YAAY;AACjD,QAAI,OAAO;AACP,aAAO,QAAQ,gBAAgB,UAAU,KAAK;AAAA,IAC1D;AACQ,WAAO;AAAA,EACV;AAAA,EACD,WAAS,QAAQ,OAAO,KAAK;AACjC;AAGA,IAAI,aAAa,SAAS;AAAA,EACtB,cAAY,SAAS;AAAA,EACrB,WAAS;AACL,YAAQ,MAAM,cAAc,MAAM,YAAY,MAAM,OAAO;AAC3D,WAAO,QAAQ,OAAO,KAAK;AAAA,EACnC;AACA;AAGY,MAAC,UAAU,CAAC,UAAU,SAAS;AACvC,SAAO,IAAI,KAAK,UAAU,IAAI;AAClC;AAOY,MAAC,WAAW,YAAY;;AAChC,QAAM,MAAM,MAAM,QAAQ,YAAY;AAAA,IAClC,MAAM;AAAA,IACN,WAAW,eAAe,QAAQ,WAAW;AAAA,EAChD,CAAA;AAED,SAAO,QAAO,SAAI,SAAJ,mBAAU,QAAQ,KAAK;AACzC;"}