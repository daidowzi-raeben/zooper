import{V as n,r,o as a,c as i,b as m}from"./entry.DzORWLaw.js";import{b as d}from"./api.xjxtr2Ie.js";const c={class:"min-h-screen p-4"},I={__name:"[id]",setup(g){const o=n().params.id,t=r(null),s=()=>{sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),sessionStorage.removeItem("t_idnt_code"),sessionStorage.removeItem("teacher"),window.location.href="/login"};return a(async()=>{try{sessionStorage.getItem("idnt_code")&&sessionStorage.removeItem("idnt_code");const e=await d("member.php",{mode:"studentInfo",idnt_code:o});e.result==="SUCCESS"&&e.data?(t.value=e.data,sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),sessionStorage.removeItem("t_idnt_code"),sessionStorage.removeItem("teacher"),sessionStorage.setItem("idnt_code",o),sessionStorage.setItem("student",JSON.stringify(t.value)),window.location.href="/"):(s(),alert("학생정보가 없습니다."),console.error(e.message||"학생 정보 없음"),sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),window.location.href="/login")}catch(e){s(),console.error("에러:",e),alert("에러가 발생했습니다."),sessionStorage.removeItem("idnt_code"),sessionStorage.removeItem("student"),window.location.href="/login"}}),(e,_)=>(m(),i("main",c))}};export{I as default};
